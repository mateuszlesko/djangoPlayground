{% extends 'posts/base.html' %}
    {% block content %}
    {% include 'posts/townFilter.html' %}
        {% for post in all_posts%}
            <section>
                <div class="cardContainer">
                    <div class="cardContent">
                         <div class="content-text">
                            <p>opublikowano: {{post.published_date}}</p>
                            <h2 class="content-title">{{post.title}}</h2>
                            <h3 class="content-subtitle">{{post.place}}</h3>
                            <p class="content-paragraph">{{post.content | truncatewords:24}}...</p>
                            <a href="/posts/details/{{post.id}}" class="btn">Zobacz więcej</a>
                        </div>
                    </div>
                </div>
            </section>
        {% empty %}
            <h3>Nie ma postów</h3>
        {% endfor %}
        {% if all_posts.has_other_pages %}
        <div class="pagination">
            {% if all_posts.has_previous %}
            <a href="?page={{ all_posts.previous_page_number }}">&laquo;</a>
            {% else %}
            <a><span class="disabled">&laquo;</span></a>
            {% endif %}
            {% for i in all_posts.paginator.page_range %}
            {% if all_posts.number == i %}
                <a class="active">{{ i }}</a>
            {% else %}
                <a href="?page={{ i }}">{{ i }}</a>
            {% endif %}
            {% endfor %}
            {% if all_posts.has_next %}
            
            <a href="?page={{ all_posts.next_page_number }}">&raquo;</a>
            {% else %}
            <a><span class="disabled">&raquo;</span></a>
            {% endif %}
        </div>
        {% endif %}
    {% endblock %}
