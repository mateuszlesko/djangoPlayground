        mail = request.POST["mail"]
        username = request.POST["username"]
        password = request.POST["password1"]
        rePassword = request.POST["password2"]
        mailExists = User.objects.filter(username = username) is not None
        usernameExists = User.objects.filter(email = mail) is not None
        if(mailExists or usernameExists):
            messages.error(request, "Rejestracja przerwana. Istnieje ktoś o tym mailu lub nazwie")
            return render(request,"welcome/register.html",context={"error":"Podane konto istnieje"})
        if(password != rePassword):
            messages.error(request, "Rejestracja przerwana. Hasła nie zgadzają się")
            return render(request,"welcome/register.html",context={"error":"Podane hasła są różne od siebie"})
        
        user = User()
        user.username = username
        user.email = mail
        user.password = password
        user.groups += "uzytkownicy"
        user.save()